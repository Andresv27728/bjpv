let linkRegex = /https:\/\/chat\.whatsapp\.com\/([0-9A-Za-z]{20,24})/i;

let handler = async (m, { conn, text, isOwner }) => {
    if (!text) return m.reply('â†› ğ·ğ‘’ğ‘ğ‘’ğ‘  ğ‘šğ‘ğ‘›ğ‘‘ğ‘ğ‘Ÿğ‘šğ‘’ ğ‘¢ğ‘›ğ‘ ğ‘–ğ‘›ğ‘£ğ‘–ğ‘¡ğ‘ğ‘ğ‘–ğ‘œğ‘› ğ‘ğ‘ğ‘Ÿğ‘ ğ‘ğ‘¢ğ‘’ ğ‘™ğ‘ ğ‘ğ‘œğ‘¡ *ğŸŒ·-ğ‘€ğ‘–ğ‘¡ğ‘ ğ‘¢ğ‘Ÿğ‘–~ğ‘ğ‘œğ‘¡-ğŸŒ·* ğ‘’ğ‘›ğ‘¡ğ‘Ÿğ‘’ ğ‘ğ‘™ ğ‘”ğ‘Ÿğ‘¢ğ‘ğ‘œ_Â°');

    let [_, code] = text.match(linkRegex) || [];

    if (!code) return m.reply('ğŸ¡â†› ğ¸ğ‘›ğ‘™ğ‘ğ‘ğ‘’ ğ‘‘ğ‘’ ğ‘ ğ‘œğ‘™ğ‘–ğ‘ğ‘–ğ‘¡ğ‘¢ğ‘‘ ğ‘›ğ‘œ ğ‘£ğ‘ğ‘™ğ‘–ğ‘‘ğ‘œ_Â°');

    if (isOwner) {
        await conn.groupAcceptInvite(code)
            .then(res => m.reply(`ğŸŒ·â†› *ğ‘€ğ‘–ğ‘¡ğ‘ ğ‘¢ğ‘Ÿğ‘–~ğ‘ğ‘œğ‘¡* ğ‘†ğ‘’ ğ‘¢ğ‘›ğ‘–ğ‘œ ğ‘’ğ‘¥ğ‘¢ğ‘¡ğ‘œğ‘ ğ‘ğ‘šğ‘’ğ‘›ğ‘¡ğ‘’ ğ‘ğ‘™ ğ‘”ğ‘Ÿğ‘¢ğ‘ğ‘œ_Â°`))
            .catch(err => m.reply(`âœ–ï¸â†› ğ¸ğ‘Ÿğ‘Ÿğ‘œğ‘Ÿ ğ‘ğ‘™ ğ‘¢ğ‘›ğ‘–ğ‘Ÿğ‘šğ‘’ ğ‘‘ğ‘’ğ‘™ ğ‘‘ğ‘’ğ‘™ ğ‘”ğ‘Ÿğ‘¢ğ‘ğ‘œ_Â°`));
    } else {
        let message = `ğŸŒ·â†› ğ‘†ğ‘œğ‘™ğ‘–ğ‘ğ‘–ğ‘¡ğ‘¢ğ‘‘ ğ‘‘ğ‘’ ğ‘–ğ‘›ğ‘£ğ‘–ğ‘¡ğ‘ğ‘ğ‘–ğ‘œğ‘› ğ‘ğ‘™ ğ‘”ğ‘Ÿğ‘¢ğ‘ğ‘–:\n${text}\n\n ğ‘ƒğ‘Ÿğ‘œğ‘ğ‘¢ğ‘’ğ‘ ğ‘¡ğ‘ â„ğ‘’ğ‘â„ğ‘ ğ‘ğ‘œğ‘Ÿ: @${m.sender.split('@')[0]}`;
        await conn.sendMessage('573004828388' + '@s.whatsapp.net', { text: message, mentions: [m.sender] }, { quoted: m });
        m.reply(`ğŸŒ·â†› ğ‘‡ğ‘¢ ğ‘ ğ‘œğ‘™ğ‘–ğ‘ğ‘–ğ‘¡ğ‘¢ğ‘‘ ğ‘‘ğ‘’ ğ‘’ğ‘›ğ‘¡ğ‘Ÿğ‘ğ‘Ÿ ğ‘ğ‘™ ğ‘”ğ‘Ÿğ‘¢ğ‘ğ‘œ, ğ‘ ğ‘ ğ‘–ğ‘‘ğ‘œ ğ‘’ğ‘›ğ‘£ğ‘–ğ‘ğ‘‘ğ‘œ ğ‘’ğ‘¥ğ‘–ğ‘¡ğ‘œğ‘ ğ‘ğ‘šğ‘’ğ‘›ğ‘¡ğ‘’, ğ‘€ğ‘¢ğ‘â„ğ‘ğ‘  ğ‘”ğ‘Ÿğ‘ğ‘ğ‘–ğ‘ğ‘  ğ‘ğ‘œğ‘Ÿ ğ‘¡ğ‘¢ ğ‘ ğ‘œğ‘™ğ‘–ğ‘ğ‘–ğ‘¡ğ‘¢ğ‘‘ *ï½¡:.ï¾Ÿãƒ½(ï½¡â—•â€¿â—•ï½¡)ï¾‰ï¾Ÿ.:ï½¡+ï¾Ÿ*`);
    }
};

handler.help = ['invite'];
handler.tags = ['owner', 'tools'];
handler.command = ['invite', 'join'];

export default handler;
